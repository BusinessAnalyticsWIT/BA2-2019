 <!DOCTYPE html>
 <html>
   <head>

     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">

     

     <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css" type="text/css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css" rel="stylesheet" />

     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
     <script>hljs.initHighlightingOnLoad();</script>

     

     <style>
       

body 
{
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
}

figcaption
{
  margin-bottom: 20px;
}

.vertical-align
{
  display: flex;
  align-items: center;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



     </style>

   </head>

  <body>
    

<style>
  

code
{
  font-family: "Monaco";
  font-size: 110%;
}

img
{
  padding:1px;
  border:1px solid black;
}

h1
{
  font-style:italic;
  font-size:130%;
  border-bottom:thin solid black;
}

h2
{
  font-size:110%;
  border-bottom: thin solid black;
}

h3
{
  font-size:100%;
  border-bottom: thin solid black;
}

body
{
  overflow-y: scroll;
}

.pushable > .pusher
{
  padding-bottom: 1.5rem;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



</style>

<div class="ui fixed top pointing inverted stackable menu labmenu">
  <header class="header item">
    <i id="toc" class="sitemap icon"></i>
    <a href="../index.html">
      Visualisation of Data
    </a>
  </header>
  <div class="right tab-menu menu">
    
    <a class="item" data-tab="Lab-05">
      Lab-05
    </a>
    
    <a class="item" data-tab="01">
      01
    </a>
    
    <a class="item" data-tab="02">
      02
    </a>
    
    <a class="item" data-tab="03">
      03
    </a>
    
    <a class="item" data-tab="04">
      04
    </a>
    
    <a class="item" data-tab="05">
      05
    </a>
    
    <div class="item">
      
    </div>
  </div>
</div>

<div class="ui segment pushable">
  <div class="ui inverted labeled icon left inline vertical sidebar menu">
    
      
        <a class="item" href="../../topic-01-Python-Data-Exploration/book-a/index.html">
          Lab-01
        </a>
      
    
      
        <a class="item" href="../../topic-02-Data-Management/book/index.html">
          Lab-02
        </a>
      
    
      
        <a class="item" href="../../topic-02-Data-Management/book-a/index.html">
          Lab-03
        </a>
      
    
      
        <a class="item" href="../../topic-03-Visualisation/book/index.html">
          Lab-04
        </a>
      
    
      
        <a class="item" href="../../topic-03-Visualisation/book-a/index.html">
          Lab-05
        </a>
      
    
      
        <a class="item" href="../../topic-04-Hypothesis-Testing/book/index.html">
          Lab-06
        </a>
      
    
      
        <a class="item" href="../../topic-04-Hypothesis-Testing/book-ca/index.html">
          Lab-07
        </a>
      
    
  </div>
  <div class="pusher" tabindex="-1">
    <div class="ui basic segment" id="labchat">
      <br>
      
      <div  class="ui tab segment lab" data-tab="Lab-05">
        <h1>Graphing quantitative response variables.</h1>
<p>The solution to lab04 is available here:</p>
<ul>
<li><a href="./archives/lab04.py">lab4 python file</a></li>
</ul>

      </div>
     
      <div  class="ui tab segment lab" data-tab="01">
        <h1>Quantitative Response variables</h1>
<p>In the previous lab you graphed two variables where the response variable was categorical, in one example the explanatory variable was numerical and one where the explanatory variable was categorical.</p>
<p>For this example we will look at the scenario where the response variable is quantitative.</p>
<h1>Gapminder dataset</h1>
<p>Now we are interested in the associated between the percent of the population living in urban setting within each country, and in the country&#39;s rates of internet use, that is the percent of people which access to the world wide web.</p>
<p>Here are the details from the codebook for the variables we are interested in.</p>
<p><img src="./img/00.png" alt=""></p>
<p>For this research question both the response and explanatory variables are quantitative variables.</p>
<p>A bar chart would not work in this situation, the graph of choice is the scatterplot.</p>
<p><img src="./img/01.png" alt=""></p>
<p>A scatterplot by definition is a graph of plotted point that show the relationship between two quantitative variables.</p>
<p>In a scatterplot, data for each observations explanatory and response variable are plotted.</p>
<p>This scatterplot shows a sample of 11 observations according to the relationship between height and weight.</p>
<p>Since we are dealing with a new data set the Gapminder data set, we will start a new python program.</p>
<p>Include your import statement as before.</p>
<p>Save the gapminder.csv file to your Spyder working directory.</p>
<ul>
<li><a href="./archives/gapminder.csv">Gapminder file</a></li>
</ul>
<h2>Exercises</h2>
<p>Write the statement necessary to read in the gapminder.csv File</p>
<p>Next we need to make sure that both variables are seen as numeric by Python. Look back on previous labs to find the correct syntax for using the to_numeric() function in the Pandas library.</p>
<p>If the conversion is not working it may be because there are spaces or blanks in some observations for one or both of these variables.</p>
<p>You may have to use .replace() function to find any &#39; &#39; and replace with numpy.NaN again check back on previous lab files.</p>
<p>Once you have the conversions complete you can then describe each variable.</p>
<p>Write the statements to describe each variable and print the output so you can see the count, mean, standard deviation etc for each variable.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="02">
        <h1>Scatter plot</h1>
<p>You should see the following descriptive stats for each variable:</p>
<p><img src="./img/03.png" alt=""></p>
<p><img src="./img/04.png" alt=""></p>
<p>We can see for urban rate, the mean percent of the population living in Urban settings is about 57%, the standard deviation is about 24%, suggesting that there is quite a bit of variability from country to country in terms of the population living in urban settings.</p>
<p>Is there a relationship between the two variables?</p>
<p>We can explore this question using a scatterplot.</p>
<p>Python provides the capability to produce a scatterplot using the seaborn library.</p>
<pre><code>
#basic scatterplot

scat1 = seaborn.regplot(x=&quot;urbanrate&quot;, y=&quot;internetuserate&quot;, fit_reg=False, data=gapminder_data)
plt.xlabel(&#39;Urban Rate&#39;)
plt.ylabel(&#39;Internet Use Rate&#39;)
plt.title(&#39;Scatterplot for the Association between Urban Rate and Internet Use Rate&#39;)</code></pre>
<p>The explanatory variable is urban rate so it goes on the X axis, the response variable Internet Use Rate goes on the Y axis. For this example we ask python to suppress the line of best fit. Again we use the xlabel, ylabel and title functions.</p>
<p><img src="./img/05.png" alt=""></p>
<p>Here we can see what looks like a positive relationship between urban rate and internet use rate. Change the code slightly so that the best fit line is displayed.</p>
<p><img src="./img/06.png" alt=""></p>
<h2>Exercises</h2>
<p>Try plotting a scatter chart now for the explanatory variable incomeperperson with the response variable internetuserate.
What relationship does this chart present? Is it stronger or weaker than the previous relationship?</p>
<p>How closely do the dots follow the linear pattern?</p>
<p>These examples show the different types of relationships presented by a scatter plot.</p>
<p><img src="./img/07.png" alt=""></p>
<p>Not all relationships can be classified as positive or negative. Also if you can&#39;t plausibly put a line through the dots, if the dots are just a cloud of specks on a graph, then there may be no relationship.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="03">
        <h1>Scatter Plots continued</h1>
<p>Create the scatter plot for response variable &quot;hivrate&quot; and explanatory variable &quot;incomeperperson&quot;</p>
<p>Remember to make sure both variables are numeric.</p>
<p><img src="./img/08.png" alt=""></p>
<p>Here the dots seem to clump in the lower part of the graph. In this case it is hard to determine the relationship here.</p>
<p>To get a better sense of whether or not there is a relationship between these two variables, we could try and convert the incomeperperson explanatory variable into a categorical variable.</p>
<p>To do this we have to do some data management.</p>
<ul>
<li>use the qcut function to split the incomeperperson variable into four equal parts, call the new variable incomegrp4.</li>
<li>display the frequency counts for the new variable and print them to the console.</li>
</ul>
<p><img src="./img/09.png" alt=""></p>
<p>Now you can see the distribution of the incomegrp4 variable. The four ordered groups we created, show that there are 48 in the lowest income group, 47 in the next 25%, 47 in the next 25% and 48 in the top 25%.</p>
<p>With this new categorical explanatory variable, you can now create the last type of bivariate graph, that is the categorical to quantitative bar chart.</p>
<p>The code to use is identical to that used for the categorical to categorical graph but what will be plotted on the y-axis is the mean HIV rate.</p>
<pre><code>#bivariate bar graph C-&gt;Q
seaborn.factorplot(x=&#39;incomegrp4&#39;,y=&#39;hivrate&#39;,data=gapminder_data,kind=&#39;bar&#39;,ci=None)
plt.xlabel(&#39;income group&#39;)
plt.ylabel(&#39;mean HIV rate&#39;)</code></pre>
<p><img src="./img/10.png" alt=""></p>
<p>In this bar chart we can see the differences in HIV rate based on the counties income per person groups.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="04">
        <h1>Bivarate chart options</h1>
<h2>Categorical to categorical graph</h2>
<p>Explanatory variable on the X axis (categorical), the proportion of our response variable on the Y axis (2 group categorical).</p>
<p><img src="./img/11.png" alt=""></p>
<h2>Categorical to Quantitative graph</h2>
<p>Explanatory variable on the X axis (Categorical), Mean of the response variable (quantitative) on the Y axis.</p>
<p><img src="./img/12.png" alt=""></p>
<h2>Quantitative to Quantitative graphs</h2>
<p>Explanatory variable values on the X axis (quantitative), response variable values on the Y axis (quantitative)</p>
<p><img src="./img/13.png" alt=""></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="05">
        <h1>continuous assessment</h1>
<p>Apply what you have learned to your continuous assessment work.</p>

      </div>
     
    </div>
  </div>
</div>
<!--<div class="ui bottom fixed borderless right menu">
  <div class="ui right tiny menu">
    <div class="ui mini message segment">
      .
      <a href="http://creativecommons.org/licenses/by-nc/4.0/"
         title="External link to http://creativecommons.org/licenses/by-nc/4.0/"
         target="_blank">Creative Commons License
      </a>
    </div>
  </div>
</div>-->

<script>
  $(document).on('keydown', function(e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

</script>



    <footer>

    </footer>
    <script>
      $(document).ready(function() {
  $('img').addClass('ui image');

  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass(
        'ui basic segment',
      );
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass(
        'ui blue ribbon label',
      );
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.menu .item').tab({
    history: true,
    historyType: 'hash',
  });

  $('.popup').popup();

  $('.ui.sidebar')
    .sidebar({ context: $('.pushable') })
    .sidebar('setting', 'transition', 'slide out')
    .sidebar('attach events', '#toc');
});

    </script>
  </body>

 </html>